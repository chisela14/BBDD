--ALTER session set "_oracle_script"=true;
--CREATE USER TRENES IDENTIFIED BY TRENES;
--GRANT CONNECT, RESOURCE, DBA TO TRENES;

CREATE TABLE ESTACION
(
CODIGO NUMBER(3) PRIMARY KEY,
NOMBRE VARCHAR2(20) UNIQUE,
DISTRITO VARCHAR2(10)
);

CREATE TABLE LINEA
(
CODIGO		NUMBER(3),
NOMBRE	VARCHAR2(20)	UNIQUE,
COBERTURA	VARCHAR (12),
CONSTRAINT PK_LINEA		PRIMARY KEY  (CODIGO),
CONSTRAINT CK_L_COBERTURA 	CHECK(COBERTURA IN ('CIRCULAR','CENTRO', 'EXTRARADIOS'))
);

CREATE TABLE ACCESO
(
NUMERO_ACCESO		NUMBER(3),
ORIENTACION			CHAR(1),
ESTACION			NUMBER(3),
CONSTRAINT CK_L_ORIENTACION 	CHECK(ORIENTACION IN ('N','O','E','S')),
CONSTRAINT PK_ACCESO		PRIMARY KEY (NUMERO_ACCESO),
CONSTRAINT FK_ACCESO		FOREIGN KEY (ESTACION) REFERENCES ESTACION
);

CREATE TABLE COCHERA
(
CODIGO		  NUMBER(3),
LOCALIZACION	VARCHAR2(12),
ESTACION		NUMBER(3),
CAPACIDAD		NUMBER(3),
CONSTRAINT PK_COCHERA	PRIMARY KEY(CODIGO),
CONSTRAINT FK_COCHERA	FOREIGN KEY (ESTACION) REFERENCES ESTACION
);

CREATE TABLE TREN
(
CODIGO				NUMBER(3),
MODELO			VARCHAR2(12),
VELOCIDAD_MAXIMA		NUMBER(3),
FECHA_ENTRADA		DATE,
COCHERA			NUMBER(3),
LINEA				NUMBER(3),
CONSTRAINT PK_TREN		PRIMARY KEY (CODIGO),
CONSTRAINT FK_T_COCHERA	FOREIGN KEY (COCHERA) REFERENCES COCHERA,
CONSTRAINT FK_T_LINEA	FOREIGN KEY (LINEA) REFERENCES LINEA
);

CREATE TABLE LINEA_ESTACION 
(LINEA			NUMBER(3),  
ESTACION		NUMBER(3), 
NUMERO_ORDEN	NUMBER(3),
CONSTRAINT PK_L_E	PRIMARY KEY (LINEA,ESTACION,NUMERO_ORDEN),
CONSTRAINT FK_L_E_1	FOREIGN KEY (LINEA) REFERENCES LINEA,
CONSTRAINT FK_L_E_2	FOREIGN KEY (ESTACION) REFERENCES ESTACION
);
/***************/
INSERT INTO ESTACION VALUES(1,'CARTUJA','C1');
INSERT INTO ESTACION VALUES(2,'BARQUETA','B1');
INSERT INTO ESTACION VALUES(3,'MACARENA','M1');
INSERT INTO ESTACION VALUES(4,'OSARIO','O1');
INSERT INTO ESTACION VALUES(5,'SANTA JUSTA','S1');
INSERT INTO ESTACION VALUES(6,'RAMON Y CAJAL','R1');
INSERT INTO ESTACION VALUES(7,'PASARELA','P1');
INSERT INTO ESTACION VALUES(8,'VIRGEN DE LUJAN','V1');
INSERT INTO ESTACION VALUES(9,'RONDA DE TRIANA','R2');
INSERT INTO ESTACION VALUES(10,'SAN JACINTO','S2');
INSERT INTO ESTACION VALUES(11,'RONDA DE CAPUCHINO','R3');
INSERT INTO ESTACION VALUES(12,'GUADAIRA','G2');
INSERT INTO ESTACION VALUES(13,'CIUDAD SANITARIA','C2');
INSERT INTO ESTACION VALUES(14,'PRADO','P2');
INSERT INTO ESTACION VALUES(15,'POLIGONO NORTE','P3');
INSERT INTO ESTACION VALUES(16,'HELIOPOLIS','H1');
INSERT INTO ESTACION VALUES(17,'RONDA TAMARGUILLO','R4');

INSERT INTO LINEA VALUES(1,'C1','CIRCULAR');
INSERT INTO LINEA VALUES(2,'C2','CIRCULAR');
INSERT INTO LINEA VALUES(3,'C3','CENTRO');
INSERT INTO LINEA VALUES(4,'C4','EXTRARADIOS');
INSERT INTO LINEA VALUES(5,'C5','CENTRO');


INSERT INTO ACCESO VALUES(1,'N',1);
INSERT INTO ACCESO VALUES(2,'S',1);
INSERT INTO ACCESO VALUES(3,'E',1);
INSERT INTO ACCESO VALUES(4,'O',1);
INSERT INTO ACCESO VALUES(5,'N',2);
INSERT INTO ACCESO VALUES(6,'S',2);
INSERT INTO ACCESO VALUES(7,'E',2);
INSERT INTO ACCESO VALUES(8,'O',2);
INSERT INTO ACCESO VALUES(9,'N',3);
INSERT INTO ACCESO VALUES(10,'S',3);
INSERT INTO ACCESO VALUES(11,'O',3);
INSERT INTO ACCESO VALUES(12,'N',4);
INSERT INTO ACCESO VALUES(13,'S',4);
INSERT INTO ACCESO VALUES(14,'E',4);
INSERT INTO ACCESO VALUES(15,'O',4);
INSERT INTO ACCESO VALUES(16,'N',5);
INSERT INTO ACCESO VALUES(17,'N',6);
INSERT INTO ACCESO VALUES(18,'S',7);
INSERT INTO ACCESO VALUES(19,'N',8);
INSERT INTO ACCESO VALUES(20,'S',9);
INSERT INTO ACCESO VALUES(21,'N',10);
INSERT INTO ACCESO VALUES(22,'S',11);
INSERT INTO ACCESO VALUES(23,'N',12);
INSERT INTO ACCESO VALUES(24,'S',13);
INSERT INTO ACCESO VALUES(25,'N',14);
INSERT INTO ACCESO VALUES(26,'S',15);
INSERT INTO ACCESO VALUES(27,'N',16);

INSERT INTO LINEA_ESTACION VALUES (1,1,1);
INSERT INTO LINEA_ESTACION VALUES (1,2,2);
INSERT INTO LINEA_ESTACION VALUES (1,3,3);
INSERT INTO LINEA_ESTACION VALUES (1,4,4);
INSERT INTO LINEA_ESTACION VALUES (1,5,5);
INSERT INTO LINEA_ESTACION VALUES (1,6,6);
INSERT INTO LINEA_ESTACION VALUES (1,7,7);
INSERT INTO LINEA_ESTACION VALUES (1,8,8);
INSERT INTO LINEA_ESTACION VALUES (1,9,9);
INSERT INTO LINEA_ESTACION VALUES (1,1,10);
INSERT INTO LINEA_ESTACION VALUES (2,1,10);
INSERT INTO LINEA_ESTACION VALUES (2,2,9);
INSERT INTO LINEA_ESTACION VALUES (2,3,8);
INSERT INTO LINEA_ESTACION VALUES (2,4,7);
INSERT INTO LINEA_ESTACION VALUES (2,5,6);
INSERT INTO LINEA_ESTACION VALUES (2,6,5);
INSERT INTO LINEA_ESTACION VALUES (2,7,4);
INSERT INTO LINEA_ESTACION VALUES (2,8,3);
INSERT INTO LINEA_ESTACION VALUES (2,9,2);
INSERT INTO LINEA_ESTACION VALUES (2,1,1);
INSERT INTO LINEA_ESTACION VALUES (3,10,1);
INSERT INTO LINEA_ESTACION VALUES (3,3,2);
INSERT INTO LINEA_ESTACION VALUES (3,11,3);
INSERT INTO LINEA_ESTACION VALUES (3,7,4);
INSERT INTO LINEA_ESTACION VALUES (3,10,5);
INSERT INTO LINEA_ESTACION VALUES (4,12,5);
INSERT INTO LINEA_ESTACION VALUES (4,13,4);
INSERT INTO LINEA_ESTACION VALUES (4,14,3);
INSERT INTO LINEA_ESTACION VALUES (4,4,2);
INSERT INTO LINEA_ESTACION VALUES (4,15,1);
INSERT INTO LINEA_ESTACION VALUES (5,16,1);
INSERT INTO LINEA_ESTACION VALUES (5,13,2);
INSERT INTO LINEA_ESTACION VALUES (5,11,3);

INSERT INTO COCHERA VALUES(1,'B1',1,4);
INSERT INTO COCHERA VALUES(2,'B2',1,2);
INSERT INTO COCHERA VALUES(3,'A1',2,4);
INSERT INTO COCHERA VALUES(4,'A2',2,4);
INSERT INTO COCHERA VALUES(5,'A3',2,2);
INSERT INTO COCHERA VALUES(6,'A4',3,2);
INSERT INTO COCHERA VALUES(7,'A5',3,2);
INSERT INTO COCHERA VALUES(8,'A6',4,6);
INSERT INTO COCHERA VALUES(9,'A7',4,6);
INSERT INTO COCHERA VALUES(10,'A8',4,6);
INSERT INTO COCHERA VALUES(11,'A9',5,2);
INSERT INTO COCHERA VALUES(12,'A10',5,2);
INSERT INTO COCHERA VALUES(13,'A11',6,2);
INSERT INTO COCHERA VALUES(14,'A12',6,2);
INSERT INTO COCHERA VALUES(15,'A13',7,2);
INSERT INTO COCHERA VALUES(16,'A14',7,2);
INSERT INTO COCHERA VALUES(17,'A15',8,6);
INSERT INTO COCHERA VALUES(18,'A16',8,6);
INSERT INTO COCHERA VALUES(19,'A17',8,6);
INSERT INTO COCHERA VALUES(20,'A18',8,6);
INSERT INTO COCHERA VALUES(21,'A19',9,2);
INSERT INTO COCHERA VALUES(22,'A20',9,2);
INSERT INTO COCHERA VALUES(23,'A21',10,2);
INSERT INTO COCHERA VALUES(24,'A22',10,2);


INSERT INTO TREN VALUES (1,'MODELO 1',100,SYSDATE,1,1);
INSERT INTO TREN VALUES (2,'MODELO 1',100,SYSDATE,1,1);
INSERT INTO TREN VALUES (3,'MODELO 1',100,SYSDATE,1,1);
INSERT INTO TREN VALUES (4,'MODELO 1',100,SYSDATE,2,1);
INSERT INTO TREN VALUES (5,'MODELO 1',100,SYSDATE,2,1);
INSERT INTO TREN VALUES (6,'MODELO 1',80,SYSDATE,3,1);
INSERT INTO TREN VALUES (7,'MODELO 1',80,SYSDATE,3,1);
INSERT INTO TREN VALUES (8,'MODELO 1',80,SYSDATE,3,1);
INSERT INTO TREN VALUES (9,'MODELO 1',80,SYSDATE,3,1);
INSERT INTO TREN VALUES (10,'MODELO 1',80,SYSDATE,4,1);
INSERT INTO TREN VALUES (11,'MODELO 1',80,SYSDATE,4,1);
INSERT INTO TREN VALUES (12,'MODELO 1',100,SYSDATE,4,1);
INSERT INTO TREN VALUES (13,'MODELO 1',90,SYSDATE,4,2);
INSERT INTO TREN VALUES (14,'MODELO 1',90,SYSDATE,5,2);
INSERT INTO TREN VALUES (15,'MODELO 1',90,SYSDATE,5,2);
INSERT INTO TREN VALUES (16,'MODELO 1',80,SYSDATE,6,2);
INSERT INTO TREN VALUES (17,'MODELO 1',80,SYSDATE,6,2);
INSERT INTO TREN VALUES (18,'MODELO 1',90,SYSDATE,7,2);
INSERT INTO TREN VALUES (19,'MODELO 1',100,SYSDATE,7,2);
INSERT INTO TREN VALUES (20,'MODELO 1',90,SYSDATE,8,2);
INSERT INTO TREN VALUES (21,'MODELO 1',80,SYSDATE,8,2);
INSERT INTO TREN VALUES (22,'MODELO 1',80,SYSDATE,8,2);
INSERT INTO TREN VALUES (23,'MODELO 1',80,SYSDATE,8,2);
INSERT INTO TREN VALUES (24,'MODELO 1',80,SYSDATE,9,3);
INSERT INTO TREN VALUES (25,'MODELO 1',90,SYSDATE,9,3);
INSERT INTO TREN VALUES (26,'MODELO 1',90,SYSDATE,9,3);
INSERT INTO TREN VALUES (27,'MODELO 1',80,SYSDATE,9,3);
INSERT INTO TREN VALUES (28,'MODELO 1',80,SYSDATE,10,3);
INSERT INTO TREN VALUES (29,'MODELO 1',80,SYSDATE,10,3);
INSERT INTO TREN VALUES (30,'MODELO 1',80,SYSDATE,10,4);
INSERT INTO TREN VALUES (31,'MODELO 1',90,SYSDATE,10,4);
INSERT INTO TREN VALUES (32,'MODELO 1',80,SYSDATE,10,4);
INSERT INTO TREN VALUES (33,'MODELO 1',80,SYSDATE,11,4);
INSERT INTO TREN VALUES (34,'MODELO 1',80,SYSDATE,11,4);
INSERT INTO TREN VALUES (35,'MODELO 1',90,SYSDATE,12,4);
INSERT INTO TREN VALUES (36,'MODELO 1',90,SYSDATE,12,4);
INSERT INTO TREN VALUES (37,'MODELO 1',80,SYSDATE,13,4);
INSERT INTO TREN VALUES (38,'MODELO 1',80,SYSDATE,13,4);
INSERT INTO TREN VALUES (39,'MODELO 1',80,SYSDATE,14,5);
INSERT INTO TREN VALUES (40,'MODELO 1',80,SYSDATE,14,5);
INSERT INTO TREN VALUES (41,'MODELO 1',90,SYSDATE,15,5);

COMMIT;
/**************/





 

 

